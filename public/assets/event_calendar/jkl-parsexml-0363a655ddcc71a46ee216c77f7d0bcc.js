"undefined"==typeof JKL&&(JKL=function(){}),JKL.ParseXML=function(e,t,r){return this.http=new JKL.ParseXML.HTTP(e,t,r,!1),this},JKL.ParseXML.VERSION="0.22",JKL.ParseXML.MIME_TYPE_XML="text/xml",JKL.ParseXML.MAP_NODETYPE=["","ELEMENT_NODE","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE"],JKL.ParseXML.prototype.async=function(e,t){this.callback_func=e,this.callback_arg=t},JKL.ParseXML.prototype.onerror=function(e){this.onerror_func=e},JKL.ParseXML.prototype.parse=function(){if(this.http){if(this.onerror_func&&this.http.onerror(this.onerror_func),this.callback_func){var e=this,t=function(){if(e.http){var t=e.parseResponse();e.callback_func(t,e.callback_arg)}};this.http.async(t)}if(this.http.load(),!this.callback_func){return this.parseResponse()}}},JKL.ParseXML.prototype.setOutputArrayAll=function(){this.setOutputArray(!0)},JKL.ParseXML.prototype.setOutputArrayAuto=function(){this.setOutputArray(null)},JKL.ParseXML.prototype.setOutputArrayNever=function(){this.setOutputArray(!1)},JKL.ParseXML.prototype.setOutputArrayElements=function(e){this.setOutputArray(e)},JKL.ParseXML.prototype.setOutputArray=function(e){if("string"==typeof e&&(e=[e]),e&&"object"==typeof e)if(e.length<0)e=!1;else{for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;e=t,e["*"]&&(e=!0)}this.usearray=e},JKL.ParseXML.prototype.parseResponse=function(){var e=this.http.documentElement();return this.parseDocument(e)},JKL.ParseXML.prototype.parseDocument=function(e){if(e){var t=this.parseElement(e);1==this.usearray?t=[t]:0==this.usearray||null==this.usearray||this.usearray[e.nodeName]&&(t=[t]);var r={};return r[e.nodeName]=t,r}},JKL.ParseXML.prototype.parseElement=function(e){if(7!=e.nodeType){if(3==e.nodeType||4==e.nodeType){if(null==e.nodeValue.match(/[^\x00-\x20]/))return;return e.nodeValue}var t,r={};if(e.attributes&&e.attributes.length){t={};for(var s=0;s<e.attributes.length;s++){var o=e.attributes[s].nodeName;if("string"==typeof o){var a=e.attributes[s].nodeValue;a&&("undefined"==typeof r[o]&&(r[o]=0),r[o]++,this.addNode(t,o,r[o],a))}}}if(e.childNodes&&e.childNodes.length){var n=!0;t&&(n=!1);for(var s=0;s<e.childNodes.length&&n;s++){var p=e.childNodes[s].nodeType;3!=p&&4!=p&&(n=!1)}if(n){t||(t="");for(var s=0;s<e.childNodes.length;s++)t+=e.childNodes[s].nodeValue}else{t||(t={});for(var s=0;s<e.childNodes.length;s++){var o=e.childNodes[s].nodeName;if("string"==typeof o){var a=this.parseElement(e.childNodes[s]);a&&("undefined"==typeof r[o]&&(r[o]=0),r[o]++,this.addNode(t,o,r[o],a))}}}}return t}},JKL.ParseXML.prototype.addNode=function(e,t,r,s){1==this.usearray?(1==r&&(e[t]=[]),e[t][e[t].length]=s):0==this.usearray?1==r&&(e[t]=s):null==this.usearray?1==r?e[t]=s:2==r?e[t]=[e[t],s]:e[t][e[t].length]=s:this.usearray[t]?(1==r&&(e[t]=[]),e[t][e[t].length]=s):1==r&&(e[t]=s)},JKL.ParseXML.Text=function(e,t,r){return this.http=new JKL.ParseXML.HTTP(e,t,r,!0),this},JKL.ParseXML.Text.prototype.parse=JKL.ParseXML.prototype.parse,JKL.ParseXML.Text.prototype.async=JKL.ParseXML.prototype.async,JKL.ParseXML.Text.prototype.onerror=JKL.ParseXML.prototype.onerror,JKL.ParseXML.Text.prototype.parseResponse=function(){return this.http.responseText()},JKL.ParseXML.JSON=function(e,t,r){return this.http=new JKL.ParseXML.HTTP(e,t,r,!0),this},JKL.ParseXML.JSON.prototype.parse=JKL.ParseXML.prototype.parse,JKL.ParseXML.JSON.prototype.async=JKL.ParseXML.prototype.async,JKL.ParseXML.JSON.prototype.onerror=JKL.ParseXML.prototype.onerror,JKL.ParseXML.JSON.prototype.parseResponse=function(){var text=this.http.responseText();if(void 0!==text&&text.length){var data=eval("("+text+")");return data}},JKL.ParseXML.DOM=function(e,t,r){return this.http=new JKL.ParseXML.HTTP(e,t,r,!1),this},JKL.ParseXML.DOM.prototype.parse=JKL.ParseXML.prototype.parse,JKL.ParseXML.DOM.prototype.async=JKL.ParseXML.prototype.async,JKL.ParseXML.DOM.prototype.onerror=JKL.ParseXML.prototype.onerror,JKL.ParseXML.DOM.prototype.parseResponse=function(){return this.http.documentElement()},JKL.ParseXML.CSV=function(e,t,r){return this.http=new JKL.ParseXML.HTTP(e,t,r,!0),this},JKL.ParseXML.CSV.prototype.parse=JKL.ParseXML.prototype.parse,JKL.ParseXML.CSV.prototype.async=JKL.ParseXML.prototype.async,JKL.ParseXML.CSV.prototype.onerror=JKL.ParseXML.prototype.onerror,JKL.ParseXML.CSV.prototype.parseResponse=function(){var e=this.http.responseText();return this.parseCSV(e)},JKL.ParseXML.CSV.prototype.parseCSV=function(e){e=e.replace(/\r\n?/g,"\n");for(var t=0,r=e.length,s=[];t<r;){for(var o=[];t<r;){if('"'==e.charAt(t)){for(var a=e.indexOf('"',t+1);a<r&&a>-1&&'"'==e.charAt(a+1);)a=e.indexOf('"',a+2);if(a<0);else{if(","==e.charAt(a+1)){var n=e.substr(t+1,a-t-1);n=n.replace(/""/g,'"'),o[o.length]=n,t=a+2;continue}if("\n"==e.charAt(a+1)||r==a+1){var n=e.substr(t+1,a-t-1);n=n.replace(/""/g,'"'),o[o.length]=n,t=a+2;break}}}var p=e.indexOf(",",t),i=e.indexOf("\n",t);if(i<0&&(i=r),!(p>-1&&p<i)){o[o.length]=e.substr(t,i-t),t=i+1;break}o[o.length]=e.substr(t,p-t),t=p+1}o.length>=0&&(s[s.length]=o)}if(!(s.length<0))return s},JKL.ParseXML.CSVmap=function(e,t,r){return this.http=new JKL.ParseXML.HTTP(e,t,r,!0),this},JKL.ParseXML.CSVmap.prototype.parse=JKL.ParseXML.prototype.parse,JKL.ParseXML.CSVmap.prototype.async=JKL.ParseXML.prototype.async,JKL.ParseXML.CSVmap.prototype.onerror=JKL.ParseXML.prototype.onerror,JKL.ParseXML.CSVmap.prototype.parseCSV=JKL.ParseXML.CSV.prototype.parseCSV,JKL.ParseXML.CSVmap.prototype.parseResponse=function(){var e=this.http.responseText(),t=this.parseCSV(e);if(t&&!(t.length<0)){for(var r=t.shift(),s=[],o=0;o<t.length;o++){for(var a={},n=0;n<r.length&&n<t[o].length;n++)a[r[n]]=t[o][n];s[s.length]=a}return s}},JKL.ParseXML.LoadVars=function(e,t,r){return this.http=new JKL.ParseXML.HTTP(e,t,r,!0),this},JKL.ParseXML.LoadVars.prototype.parse=JKL.ParseXML.prototype.parse,JKL.ParseXML.LoadVars.prototype.async=JKL.ParseXML.prototype.async,JKL.ParseXML.LoadVars.prototype.onerror=JKL.ParseXML.prototype.onerror,JKL.ParseXML.LoadVars.prototype.parseResponse=function(){var e=this.http.responseText();e=e.replace(/\r\n?/g,"\n");for(var t={},r=e.split("&"),s=0;s<r.length;s++){var o=r[s].indexOf("=");if(o>-1){var a=decodeURIComponent(r[s].substr(0,o).replace("+","%20")),n=decodeURIComponent(r[s].substr(o+1).replace("+","%20"));t[a]=n}else t[r[s]]=""}return t},JKL.ParseXML.HTTP=function(e,t,r,s){return this.url=e,this.query="string"==typeof t?t:"",this.method=r||("string"==typeof t?"POST":"GET"),this.textmode=!!s,this.req=null,this.xmldom_flag=!1,this.onerror_func=null,this.callback_func=null,this.already_done=null,this},JKL.ParseXML.HTTP.REQUEST_TYPE="application/x-www-form-urlencoded",JKL.ParseXML.HTTP.ACTIVEX_XMLDOM="Microsoft.XMLDOM",JKL.ParseXML.HTTP.ACTIVEX_XMLHTTP="Microsoft.XMLHTTP",JKL.ParseXML.HTTP.EPOCH_TIMESTAMP="Thu, 01 Jun 1970 00:00:00 GMT",JKL.ParseXML.HTTP.prototype.onerror=JKL.ParseXML.prototype.onerror,JKL.ParseXML.HTTP.prototype.async=function(e){this.async_func=e},JKL.ParseXML.HTTP.prototype.load=function(){if(window.ActiveXObject){var e=JKL.ParseXML.HTTP.ACTIVEX_XMLHTTP;"GET"!=this.method||this.textmode||(e=JKL.ParseXML.HTTP.ACTIVEX_XMLDOM),this.req=new ActiveXObject(e)}else window.XMLHttpRequest&&(this.req=new XMLHttpRequest);var t=!!this.async_func;if("undefined"!=typeof this.req.send&&this.req.open(this.method,this.url,t),"undefined"!=typeof this.req.setRequestHeader&&this.req.setRequestHeader("Content-Type",JKL.ParseXML.HTTP.REQUEST_TYPE),"undefined"==typeof this.req.overrideMimeType||this.textmode||this.req.overrideMimeType(JKL.ParseXML.MIME_TYPE_XML),t){var r=this;r.already_done=!1;var s=function(){if(4==r.req.readyState){r.checkResponse()&&(r.already_done||(r.already_done=!0,r.async_func()))}};this.req.onreadystatechange=s}if("undefined"!=typeof this.req.send?this.req.send(this.query):"undefined"!=typeof this.req.load&&(this.req.async=t,this.req.load(this.url)),!t){this.checkResponse()}},JKL.ParseXML.HTTP.prototype.checkResponse=function(){return this.req.parseError&&0!=this.req.parseError.errorCode?(this.onerror_func&&this.onerror_func(this.req.parseError.reason),!1):!(this.req.status-0>0&&200!=this.req.status&&206!=this.req.status&&304!=this.req.status)||(this.onerror_func&&this.onerror_func(this.req.status),!1)},JKL.ParseXML.HTTP.prototype.documentElement=function(){if(this.req)return this.req.responseXML?this.req.responseXML.documentElement:this.req.documentElement},JKL.ParseXML.HTTP.prototype.responseText=function(){if(this.req){if(navigator.appVersion.match("KHTML")){var e=escape(this.req.responseText);if(!e.match("%u")&&e.match("%"))return decodeURIComponent(e)}return this.req.responseText}};