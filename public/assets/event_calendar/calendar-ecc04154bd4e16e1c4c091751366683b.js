function setup(e,t,d,n){var r="";try{if("undefined"!=typeof n.events.event.date)n.events.event.date.match(/(\d\d\d\d)-(\d\d|\d)-(\d\d|\d)/),parseInt(RegExp.$1)==e&&parseInt(RegExp.$2)==t&&(r+=t+"/"+RegExp.$3+"/"+e+",");else for(i in n.events.event)n.events.event[i].date.match(/(\d\d\d\d)-(\d\d|\d)-(\d\d|\d)/),parseInt(RegExp.$1)==e&&parseInt(RegExp.$2)==t&&(r+=t+"/"+RegExp.$3+"/"+e+",")}catch(e){}var a="";for(i=1;i<=31;i++)date=new RegExp(t+"/"+String(i)+"/"+e+","),r.match(date)||(a+=t+"/"+String(i)+"/"+e+",");return d.addRenderer(a,d.renderBodyCellRestricted),""!=r}function handle_calendar(e,t,d){month=["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],t.cfg.setProperty("MONTHS_LONG",month),t.cfg.setProperty("WEEKDAYS_SHORT",["<div class='sunday'>\u65e5</div>","\u6708","\u706b","\u6c34","\u6728","\u91d1","<div class='saturday'>\u571f</div>"]);var n=function(t,d){String(d).match(/(\d\d\d\d),(\d\d|\d),(\d\d|\d)/),document.location=e+RegExp.$1+"/"+RegExp.$2+"/"+RegExp.$3+".html"};t.selectEvent.subscribe(n,t,!0);var r=function(){var n=this.cfg.getProperty("pagedate");mm=n.getMonth()+1,yyyy=n.getYear(),yyyy<1900&&(yyyy+=1900),flag_event=setup(yyyy,mm,t,d);var r=["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"];flag_event&&(r[mm-1]="<a href="+e+yyyy+"/"+mm+"/>"+mm+"\u6708</a>"),t.cfg.setProperty("MONTHS_LONG",r)};t.beforeRenderEvent.subscribe(r,t,!0),t.render()}